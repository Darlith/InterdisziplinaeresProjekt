<!doctype html>
<html lang="de" layout:decorator="layout/validationHeader">
<head>
<title>Dashboard</title>
</head>

<body>
	<div class="content" layout:fragment="content">
		<div class="container-fluid">
			<div class="row" th:if="${analytics.processedOrders == 0}">
				<div class="col-md-12">
					<div class="card">
						<div class="card-header card-header-icon"
							 data-background-color="rose">
							<i class="material-icons">warning</i>
						</div>
						<div class="card-content">
							<h4 class="card-title">Achtung</h4>
							<p>Es sind nicht genug Bestellungen verarbeitet worden, um Auswertungen anzufertigen. Bitte fügen sie Bestellungen <a href="/bestellungen">hier</a> hinzu</p>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-3 col-md-6 col-sm-6">
					<div class="card card-stats">
						<div class="card-header" data-background-color="orange">
							<i class="material-icons">shopping_cart</i>
						</div>
						<div class="card-content">
							<p class="category">Verarbeitete Bestellungen</p>
							<h3 class="card-title" th:text="${analytics.processedOrders}"></h3>
						</div>
					</div>
				</div>
				<div class="col-lg-3 col-md-6 col-sm-6">
					<div class="card card-stats">
						<div class="card-header" data-background-color="rose">
							<i class="material-icons">access_time</i>
						</div>
						<div class="card-content">
							<p class="category" >Durchschnittliche Lieferzeit (Minuten)</p>
							<h3 class="card-title" th:text="${#numbers.formatDecimal(analytics.averageFlightTime, 1, 2)}"></h3>
						</div>
					</div>
				</div>
				<div class="col-lg-3 col-md-6 col-sm-6">
					<div class="card card-stats">
						<div class="card-header" data-background-color="blue">
							<i class="material-icons">timer</i>
						</div>
						<div class="card-content">
							<p class="category">Verspätungsquote</p>
							<h3 class="card-title" th:text="${#numbers.formatDecimal(analytics.delayedQuote, 1, 2)} + '%'"></h3>
						</div>
					</div>
				</div>
				<div class="col-lg-3 col-md-6 col-sm-6">
					<div class="card card-stats">
						<div class="card-header" data-background-color="green">
							<i class="material-icons">flight</i>
						</div>
						<div class="card-content">
							<p class="category">Drohnen im Einsatz</p>
							<h3 class="card-title" th:text="${analytics.droneCount}"></h3>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<div class="card" style="height: 400px;">
						<div class="card-header card-header-icon"
							data-background-color="rose">
							<i class="material-icons">add_location</i>
						</div>
						<div class="card-content">
							<h4 class="card-title">Regular Map</h4>
							<div id="map_canvas" class="map"></div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<div class="card">
						<div class="card-header card-header-icon"
							data-background-color="devkGreen">
							<i class="material-icons">explore</i>
						</div>
						<div class="card-content">
							<h4 class="card-title">Drohnen</h4>
							<div class="toolbar">
								<!--        Here you can write extra buttons/actions for the toolbar              -->
							</div>
							<div class="material-datatables">
								<table id="datatables"
									class="table table-striped table-no-bordered table-hover"
									cellspacing="0" width="100%" style="width: 100%">
									<thead>
										<tr>
											<th>ID</th>
											<th>Lieferort</th>
											<th>Gewicht</th>
											<th>Anzahl Pakete</th>
											<th>Gesamtdistanz</th>
											<th>Geschwindigkeit</th>
											<th class="disabled-sorting text-right"></th>
										</tr>
									</thead>
									<tfoot>
										<tr>
											<th>ID</th>
											<th>Lieferort</th>
											<th>Gewicht</th>
											<th>Anzahl Pakete</th>
											<th>Gesamtdistanz</th>
											<th>Geschwindigkeit</th>
											<th class="text-right"></th>
										</tr>
									</tfoot>
									<tbody>
										<tr th:each="devices : ${list}">
											<td th:text="${devices.id}"></td>
											<td th:text="${devices.id}"></td>
											<!-- TODO - Lieferort einpacken -->
											<td th:text="${devices.totalPackageWeight}"></td>
											<td th:text="${devices.packageCount}"></td>
											<td th:text="${devices.totalDistance}"></td>
											<td th:text="${devices.speed}"></td>
											<td class="text-right"></td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
						<!-- end content-->
					</div>
					<!--  end card  -->
				</div>
			</div>
		</div>
	</div>
</body>
<script type="text/javascript" layout:fragment="selfScripts" src="../assets/js/test.js"/>
</html>